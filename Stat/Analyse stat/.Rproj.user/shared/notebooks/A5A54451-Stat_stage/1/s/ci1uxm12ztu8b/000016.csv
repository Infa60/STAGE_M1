"0","compare_methods <- function(data1,data2,data3,segments) {"
"0","    "
"0","    # Calcul des corrélations"
"0","    corr_marker_IMU <- cor(data1[[segments]], data2[[segments]], method = ""pearson"")"
"0","    corr_marker_markerless <- cor(data1[[segments]], data3[[segments]], method = ""pearson"")"
"0","    corr_markerless_IMU <- cor(data2[[segments]], data3[[segments]], method = ""pearson"")"
"0","    "
"0","    # Affichage des résultats de corrélation et de concordance"
"0","    cat(""Système optoélectronique et inertielle :\n"")"
"0","    cat(paste(""Coefficient de corrélation de Pearson:"", round(corr_marker_IMU, 4), ""\n""))"
"0","    "
"0","    cat(""Système optoélectronique et markerless :\n"")"
"0","    cat(paste(""Coefficient de corrélation de Pearson :"", round(corr_marker_markerless, 4), ""\n""))"
"0",""
"0","    #cat(""Système inertielle et markerless :\n"")"
"0","    #cat(paste(""Coefficient de corrélation de Pearson :"", round(corr_markerless_IMU, 4), ""\n""))"
"0",""
"0","    "
"0","    diff_marker_inertielle <- data1[[segments]] - data2[[segments]]"
"0","    mean_marker_inertielle <- (data1[[segments]] + data2[[segments]]) / 2"
"0","    "
"0","    plot_marker_inertielle <- ggplot(data=NULL, aes(x = mean_marker_inertielle, y = diff_marker_inertielle)) +"
"0","            geom_point() +"
"0","            geom_hline(yintercept = mean(diff_marker_inertielle), color = ""red"", linetype = ""dashed"") +"
"0","            geom_hline(yintercept = mean(diff_marker_inertielle) + 1.96*sd(diff_marker_inertielle), color = ""blue"", linetype = ""dashed"") +"
"0","            geom_hline(yintercept = mean(diff_marker_inertielle) - 1.96*sd(diff_marker_inertielle), color = ""blue"", linetype = ""dashed"") +"
"0","            geom_hline(yintercept = 0, color = ""green"")+"
"0","            labs(x = ""Moyenne du système optoélectronique et inertielle"", y = ""Différence entre le système optoélectronique et inertielle"", "
"0","                 title = ""Graphique de Bland-Altman pour le système optoélectronique et inertielle"")"
"0","    "
"0","    print(plot_marker_inertielle)"
"0",""
"0","    "
"0","    diff_marker_markerless <- data1[[segments]] - data3[[segments]]"
"0","    mean_marker_markerless <- (data1[[segments]] + data3[[segments]]) / 2"
"0","    "
"0","    plot_marker_markerless <- ggplot(data=NULL, aes(x = mean_marker_markerless, y = diff_marker_markerless)) +"
"0","             geom_point() +"
"0","             geom_hline(yintercept = mean(diff_marker_markerless), color = ""red"", linetype = ""dashed"") +"
"0","             geom_hline(yintercept = mean(diff_marker_markerless) + 1.96*sd(diff_marker_markerless), color = ""blue"", linetype = ""dashed"") +"
"0","             geom_hline(yintercept = mean(diff_marker_markerless) - 1.96*sd(diff_marker_markerless), color = ""blue"", linetype = ""dashed"") +"
"0","             geom_hline(yintercept = 0, color = ""green"")+"
"0","             labs(x = ""Moyenne du système optoélectronique et markerless"", y = ""Différence entre le système optoélectronique et markerless"", "
"0","                  title = ""Graphique de Bland-Altman pour le système optoélectronique et markerless"")"
"0","    "
"0","    print(plot_marker_markerless)"
"0","   "
"0","    "
"0","    diff_inertielle_markerless <- data2[[segments]] - data3[[segments]]"
"0","    mean_inertielle_markerless <- (data2[[segments]] + data3[[segments]]) / 2"
"0","    "
"0","    plot_inertielle_markerless <- ggplot(data=NULL, aes(x = mean_inertielle_markerless, y = diff_inertielle_markerless)) +"
"0","      geom_point() +"
"0","      geom_hline(yintercept = mean(diff_inertielle_markerless), color = ""red"", linetype = ""dashed"") +"
"0","      geom_hline(yintercept = mean(diff_inertielle_markerless) + 1.96*sd(diff_inertielle_markerless), color = ""blue"", linetype = ""dashed"") +"
"0","      geom_hline(yintercept = mean(diff_inertielle_markerless) - 1.96*sd(diff_inertielle_markerless), color = ""blue"", linetype = ""dashed"") +"
"0","      geom_hline(yintercept = 0, color = ""green"")+"
"0","      labs(x = ""Moyenne du système inertielle et markerless"", y = ""Différence entre le système inertielle et markerless"", "
"0","           title = ""Graphique de Bland-Altman pour le système inertielle et markerless"")"
"0","    "
"0","    #print(plot_inertielle_markerless)"
"0","    "
"0","    print(""____________"")"
"0","    "
"0","    mean_diff_marker_inertielle <- mean(diff_marker_inertielle)"
"0","    sd_diff_marker_inertielle <- sd(diff_marker_inertielle)"
"0","    LoA_upper1 <- mean_diff_marker_inertielle + 1.96 * sd_diff_marker_inertielle"
"0","    LoA_lower1 <- mean_diff_marker_inertielle - 1.96 * sd_diff_marker_inertielle"
"0","    "
"0","    mean_diff_marker_markerless <- mean(diff_marker_markerless)"
"0","    sd_diff_marker_markerless <- sd(diff_marker_markerless)"
"0","    LoA_upper2 <- mean_diff_marker_markerless + 1.96 * sd_diff_marker_markerless"
"0","    LoA_lower2 <- mean_diff_marker_markerless - 1.96 * sd_diff_marker_markerless"
"0","    "
"0","    mean_diff_inertielle_markerless <- mean(diff_inertielle_markerless)"
"0","    sd_diff_inertielle_markerless <- sd(diff_inertielle_markerless)"
"0","    LoA_upper3 <- mean_diff_inertielle_markerless + 1.96 * sd_diff_inertielle_markerless"
"0","    LoA_lower3 <- mean_diff_inertielle_markerless - 1.96 * sd_diff_inertielle_markerless"
"0","    "
"0","    # Afficher les limites des accords (LoA)"
"0","    cat(""Limits of Agreement (LoA):\n"")"
"0","    cat(paste(""Lower LoA Marker / Inertielle:"", round(LoA_lower1, 4), ""\n""))"
"0","    cat(paste(""Upper LoA Marker / Inertielle:"", round(LoA_upper1, 4), ""\n""))"
"0","    cat(paste(""Lower LoA Marker / Markerless:"", round(LoA_lower2, 4), ""\n""))"
"0","    cat(paste(""Upper LoA Marker / Markerless:"", round(LoA_upper2, 4), ""\n""))"
"0","    #cat(paste(""Lower LoA Inertielle / Markerless:"", round(LoA_lower3, 4), ""\n""))"
"0","    #cat(paste(""Upper LoA Inertielle / Markerless:"", round(LoA_upper3, 4), ""\n""))"
"0","    "
"0","    "
"0","    RMSE_marker_markerless<-RMSE_function(data1,data3,segments)"
"0","    RMSE_marker_inertielle<-RMSE_function(data1,data2,segments)"
"0","    "
"0","    cat(paste(""RMSE Marker / Inertielle :"",round(RMSE_marker_inertielle,4), ""\n""))"
"0","    cat(paste(""RMSE Marker / Markerless :"",round(RMSE_marker_markerless,4), ""\n""))"
"0",""
"0","    "
"0","    return(""____________"")"
"0","}  "
